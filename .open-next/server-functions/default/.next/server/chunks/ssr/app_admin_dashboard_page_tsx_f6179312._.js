module.exports=[26086,a=>{"use strict";var b=a.i(34076),c=a.i(88972);let d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim(),e=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)};var f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let g=(0,c.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:e=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,c.createElement)("svg",{ref:l,...f,width:b,height:b,stroke:a,strokeWidth:g?24*Number(e)/Number(b):e,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0;return!1})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,b])=>(0,c.createElement)(a,b)),...Array.isArray(i)?i:[i]])),h=(a,b)=>{let f=(0,c.forwardRef)(({className:f,...h},i)=>(0,c.createElement)(g,{ref:i,iconNode:b,className:d(`lucide-${e(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,f),...h}));return f.displayName=e(a),f},i=h("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),j=h("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),k=h("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),l=h("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),m=h("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var n=a.i(69734);function o({service:a,onUpdate:d,className:e=""}){let{isAdmin:f}=(0,n.useAuth)(),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(a),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)("");(0,c.useEffect)(()=>{j(a)},[a]);let s=async()=>{if(!i.title.trim())return void r("Title cannot be empty");if(i.price<0)return void r("Price cannot be negative");if(i.duration<=0)return void r("Duration must be greater than 0");p(!0),r("");try{if(!(await fetch(`/api/services/${a.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok)throw Error("Failed to save service");let b={...i};j(b),h(!1),d?.(b)}catch(a){r("Failed to save. Please try again."),console.error("Save error:",a)}finally{p(!1)}};return f?(0,b.jsx)("div",{className:`group relative ${e}`,children:g?(0,b.jsxs)("div",{className:"space-y-4 p-4 border border-gray-300 rounded-md bg-yellow-50",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,b.jsx)("input",{type:"text",value:i.title,onChange:a=>j({...i,title:a.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Service title"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,b.jsxs)("select",{value:i.category,onChange:a=>j({...i,category:a.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"studio",children:"Studio"}),(0,b.jsx)("option",{value:"nature",children:"Nature"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ($)"}),(0,b.jsx)("input",{type:"number",step:"0.01",min:"0",value:i.price,onChange:a=>j({...i,price:parseFloat(a.target.value)||0}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (minutes)"}),(0,b.jsx)("input",{type:"number",min:"1",value:i.duration,onChange:a=>j({...i,duration:parseInt(a.target.value)||60}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"60"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,b.jsx)("textarea",{value:i.description,onChange:a=>j({...i,description:a.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Service description"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Detail Text"}),(0,b.jsx)("textarea",{value:i.detail_text,onChange:a=>j({...i,detail_text:a.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Detailed service information"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"is_active",checked:i.is_active,onChange:a=>j({...i,is_active:a.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,b.jsx)("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Active (visible to users)"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"has_detail_page",checked:i.has_detail_page,onChange:a=>j({...i,has_detail_page:a.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,b.jsx)("label",{htmlFor:"has_detail_page",className:"text-sm font-medium text-gray-700",children:"Has detail page (links to service details)"})]}),q&&(0,b.jsx)("div",{className:"text-red-600 text-sm",children:q}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:s,disabled:o,className:"inline-flex items-center gap-1 px-3 py-2 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:[(0,b.jsx)(l,{className:"h-4 w-4"}),o?"Saving...":"Save"]}),(0,b.jsxs)("button",{onClick:()=>{j(a),h(!1),r("")},className:"inline-flex items-center gap-1 px-3 py-2 text-sm bg-gray-600 text-white rounded hover:bg-gray-700",children:[(0,b.jsx)(m,{className:"h-4 w-4"}),"Cancel"]})]})]}):(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"text-gray-900",children:a.title}),(0,b.jsx)("button",{onClick:()=>h(!0),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 text-gray-600 hover:text-blue-600",title:"Edit service",children:(0,b.jsx)(k,{className:"h-4 w-4"})})]})}):(0,b.jsx)("div",{className:e,children:a.title})}var p=a.i(82840);function q(){let{isAdmin:a}=(0,n.useAuth)(),[d,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[h,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)({category:"studio",title:"",description:"",price:0,duration:60,detail_text:"",is_active:!0,has_detail_page:!1});(0,c.useEffect)(()=>{q()},[]);let q=async()=>{try{let a=await fetch("/api/services"),b=await a.json();e(b.services||[])}catch(a){console.error("Failed to fetch services:",a)}finally{g(!1)}},r=async()=>{if(!l.title?.trim())return void alert("Title is required");try{(await fetch("/api/services",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok?(m({category:"studio",title:"",description:"",price:0,duration:60,detail_text:"",is_active:!0,has_detail_page:!1}),k(!1),q()):alert("Failed to add service")}catch(a){console.error("Failed to add service:",a),alert("Failed to add service")}};return a?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,b.jsx)("p",{className:"mt-2 text-gray-600",children:"Manage your services and content"})]}),(0,b.jsx)(p.default,{href:"/",className:"text-blue-600 hover:text-blue-500",children:"← Back to site"})]}),(0,b.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 mb-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Services"}),(0,b.jsxs)("button",{onClick:()=>k(!h),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,b.jsx)(i,{className:"h-4 w-4"}),"Add Service"]})]}),h&&(0,b.jsxs)("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[(0,b.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Add New Service"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,b.jsx)("input",{type:"text",value:l.title,onChange:a=>m({...l,title:a.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Service title"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,b.jsxs)("select",{value:l.category,onChange:a=>m({...l,category:a.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"studio",children:"Studio"}),(0,b.jsx)("option",{value:"nature",children:"Nature"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ($)"}),(0,b.jsx)("input",{type:"number",step:"0.01",min:"0",value:l.price,onChange:a=>m({...l,price:parseFloat(a.target.value)||0}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (minutes)"}),(0,b.jsx)("input",{type:"number",min:"1",value:l.duration,onChange:a=>m({...l,duration:parseInt(a.target.value)||60}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"60"})]})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,b.jsx)("textarea",{value:l.description,onChange:a=>m({...l,description:a.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Service description"})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Detail Text"}),(0,b.jsx)("textarea",{value:l.detail_text,onChange:a=>m({...l,detail_text:a.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Detailed service information"})]}),(0,b.jsxs)("div",{className:"mt-4 flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"new_is_active",checked:l.is_active,onChange:a=>m({...l,is_active:a.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,b.jsx)("label",{htmlFor:"new_is_active",className:"text-sm font-medium text-gray-700",children:"Active (visible to users)"})]}),(0,b.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,b.jsxs)("button",{onClick:r,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[(0,b.jsx)(i,{className:"h-4 w-4"}),"Add Service"]}),(0,b.jsx)("button",{onClick:()=>k(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Cancel"})]})]}),f?(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsx)("div",{className:"text-gray-500",children:"Loading services..."})}):0===d.length?(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsx)("div",{className:"text-gray-500",children:"No services found. Add your first service above."})}):(0,b.jsx)("div",{className:"space-y-4",children:d.map(a=>(0,b.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,b.jsx)(o,{service:a,onUpdate:a=>{e(d.map(b=>b.id===a.id?a:b))},className:"mb-4"}),(0,b.jsx)("div",{className:"flex gap-2 pt-4 border-t border-gray-200",children:(0,b.jsxs)(p.default,{href:`/services/${a.id}`,className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:[(0,b.jsx)(j,{className:"h-3 w-3"}),"View"]})})]},a.id))})]})]})}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,b.jsx)("p",{className:"text-gray-600 mb-8",children:"You need to be an admin to access this page."}),(0,b.jsx)(p.default,{href:"/",className:"text-blue-600 hover:text-blue-500",children:"← Back to site"})]})})}a.s(["default",()=>q],26086)}];

//# sourceMappingURL=app_admin_dashboard_page_tsx_f6179312._.js.map