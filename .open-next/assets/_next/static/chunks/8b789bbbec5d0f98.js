(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45356,t=>{"use strict";var e=t.i(98134),r=t.i(75201);let o=(0,r.createContext)(void 0);function i({children:t}){let[i,a]=(0,r.useState)(!1),[n,u]=(0,r.useState)(!0);(0,r.useEffect)(()=>{s()},[]);let s=async()=>{try{let t=await fetch("/api/auth/status");if(t.ok){let e=await t.json();a(e.isAdmin)}}catch(t){console.error("Failed to check auth status:",t)}finally{u(!1)}},c=async(t,e)=>{try{if((await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:e})})).ok)return a(!0),!0;return!1}catch(t){return console.error("Login failed:",t),!1}},h=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),a(!1)}catch(t){console.error("Logout failed:",t)}};return(0,e.jsx)(o.Provider,{value:{isAdmin:i,login:c,logout:h,loading:n},children:t})}function a(){let t=(0,r.useContext)(o);if(void 0===t)throw Error("useAuth must be used within an AuthProvider");return t}t.s(["AuthProvider",()=>i,"useAuth",()=>a])}]);